\documentclass[12pt,a4paper]{article}
\usepackage[unicode,colorlinks=true]{hyperref}
\usepackage[czech]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{graphicx}
\textwidth 16cm \textheight 24.6cm
\topmargin -1.3cm 
\oddsidemargin 0cm

\usepackage[ backend=biber
           , style=numeric
           , sortlocale=en_US
           , bibencoding=UTF8
           , maxcitenames=3
           , maxbibnames=100
]{biblatex}
\addbibresource{bibliography.bib}

\begin{document}
\pagestyle{empty}
\noindent

% Zatím kašlu na sázení v celé šabloně, nejdřív text, pak šablona.
\textit{Automatická kalibrace modelového hnacího vozidla}, Jan Horáček, 445326

\section{Přehledová kapitola}

V~této kapitole budou stručně představena existující řešení problému měření
rychlosti modelového hnacího vozidla doplněné o~komentáře vhodnosti
jednotlivých řešení pro problém řešený touto prací. Dále budou představeny
dostupné technologie senzorů, které jsou pro problém měření rychlosti vhodné.

\subsection{Statické bodové detektory}

Jednou z~nejjednodušších technologií pro detekci rychlosti pohybujícího se
objektu jsou 2 senzory detekující průchod bodem
a stopky. V~naší aplikaci na modelovém kolejišti si lze představit 2
(např. optické) senzory umístěné v~určité vzdálenosti od sebe, skutečnou
rychlost pohybujícího se objektu lze pak vypočíst jednoduchým vydělením
vzdálenosti senzorů a času, po který se hnací vozidlo pohybovalo mezi senzory.

Měření vychází z~předpokladu, že se hnací vozidlo pohybuje konstantní
rychlostí (podobně jako řada dalších rozebíraných metod měření níže), tento
předpoklad je však zejména díky kontrole nad ovládáním vozidla a díky
BEMF\footnote{\url{https://dccwiki.com/Back\_EMF}}
možné bez problému splnit.

Konkrétní instancí této technologie je \textit{Model Railroad
Speedometer Accutrack II} \cite{accutrackII}.

Nespornými výhodami tohoto přístupu jsou jednoduchost a absence pohyblivých
prvků, která vede k~delší životnosti a dlouhodobé spolehlivosti měřiče.
Bohužel, zásadní nevýhodou tohoto řešení je nutnost měřit rychlost pouze ve
vybraném úseku tratě. V~požadavcích na řešení vyvíjené v~této práci je sice
specifikováno, že kalibrace bude probíhat na uzavřeném okruhu, avšak představme
si, že pro jedno změření rychlosti by bylo třeba buď projet celý okruh, nebo se
za senzorem zastavit a obrátit směr. Pomineme-li fakt, že motory často dávají
při stejné střídě napájecího signálu mírně rozdílné otáčky v~závislosti na
směru, ve kterém se pohybují, je i tak čas nutný na celou kalibraci
nesrovnatelně vyšší než u~senzoru, který by byl schopen odečítat rychlost
průběžně, nezávisle na poloze vozidla.

Uvědomme si ale na závěr, že jedna z~klíčových nevýhod tohoto senzoru je
v~určitém slova smyslu i jeho výhodou. Totiž fakt, že měření probíhá jen na pevně
definovaném úseku koleje s~sebou nese tu výhodu, že vozidlo měříme vždy ve
stejných podmínkách. Nemusíme tedy například řešit, jestli vozidlo zrovna jede
v~oblouku a je zpomalováno odstředivou silou, protože senzor prostě umístíme
na rovnou trať.

\subsection{Statické úsekové detektory}

Podobný přístup, jako u~statických bodových detektorů, nabízejí statické
úsekové detektory. Rozdíl oproti senzorům popsaným v~předchozí kapitole je
v~tom, že tyto senzory neměří projetí vozidla daným bodem, ale přítomnost vozidla
na úseku tratě určité délky.

Typickým zástupcem této technologie je proudový detektor obsazení, konkrétně
například \textit{BD20} \cite{bd20}.

Proudové detektory obsazení jsou hojně využívány na modelových kolejištích k~detekci
volnosti úseků a tudíž k~umožnění bezkolizního pohybu vozidla po trati.
Obdobné systémy se využívají na skutečné železnici, avšak tam jsou známy pod
názvem \textit{kolejové obvody}.

Konkrétní způsob měření přehledně popisují například tvůrci SW \textit{JMRI}
\cite{jmri:speedometer}.
Kalibrační kolej je rozdělena na několik částí (optimálně 3 části), kalibrační
SW pak postupně projíždí těmito částmi a počítá čas, za který vozidlo projede
prostřední část. U~této části má od uživatele zadanou její délku, z~které pak
vypočte rychlost vozidla.

Výhody a nevýhody tohoto způsobu měření jsou víceméně stejné s~výhodami a
nevýhodami statických bodových detektorů. Malou výhodou úsekových detektorů je
fakt, že kolejiště často bývají vybavena úsekovými detektory pro účely
zapezpečovacího zařízení, takže není nutný nákup a instalace dalších senzorů.

\subsection{Podvalníkové detektory}

Zajímavým způsobem měření rychlosti prezentovaným v~\cite{bachrus}
je možnost měřit rychlost hnacího vozidla bez toho, aby se hnací vozidlo
skutečně pohybovalo po trati.

Tuto metodu si lze představit podobně, jako měření rychlostí aut v~autoservisu.
Lokomotiva je položena na válce, které se pod ní mohou volně pohybovat.
Lokomotiva svým motorem roztáčí válce, jejichž rychlost je následně měřena.

Zajímavou výhodou této technologie je použitelnost prakticky pro jakékoliv
modelové měřítko, nezávislost na pozici vozidla na trati a v~neposlední řadě
zmizení nutnosti pořizovat kalibrační okruh. Celý proces kalibrace tak může
probíhat na velice malém prostoru.

Je rozhodně nutné uznat, že toto řešení je svým důvtipem minimálně oceněníhodné,
avšak pro potřeby této práce skrývá jednu zásadní nevýhodu. Totiž nemožnost
dokalibrovávat vozidlo za reálného provozu bez nutnosti uvolnění vozidla
z~reálného provozu na trati.

Stojí za to také poznamenat, že řešení, které by umožňovalo měřit rychlost
vozidla na kolejišti by s~sebou neslo tu výhodu, že jej lze použít k~měření
celkové ujeté vzdálenosti hnacího vozidla za delší dobu, což je údaj využitelný
například k~výpočtu míry opotřebení lokomotivy.

\subsection{Kalibrační SW}

Druhou, zcela zásadní části této práce, je mimo tvorby senzoru pro měření
rychlosti hnacího vozidla také vytvoření programu, který zvládne celý proces
kalibrace automaticky -- bez zásahu uživatele. V~tomto hledisku autor bohužel
nemůže nabídnout výčet existujících řešení, protože taková řešení
prakticky neexistují. Je to z~toho důvodu, že většina dostupných SW pro řízení
modelového kolejiště staví na odlišném principu, než na kterém staví řídicí SW
hJOP \cite{hjop:web}, pro který je automatická kalibrace řešena.

Většina obslužných programů totiž počítá s~tím, že hnací vozidla na kolejišti
jsou různá a nesnaží se je jednotě kalibrovat. Místo toho si tyto SW před
prvním použitím lokomotivy nechají zadat její parametry nebo si je změří jednou
z~technologií popsaných výše a u~lokomotivy si tzv. \textit{kalibrační tabulku}
dlouhodobě udržují. Tyto programy tak kompenzují rozdílné vlastnosti vozidel přímo
povelováním různými rychlostmi.

Koncepce SW hJOP je však jiná. Bylo rozhodnutím autora, že je vhodnější mít
zkralibrovaná vozidla na úrovni dekodérů, než si v~SW ukládat pro každé hnací
vozidlo speciální \textit{kalibrační tabulku}.

\subsection{TODO}

\textit{Ve skutečné bakalářce tady bude ještě přehled různých senzorů, ale
kvůli rozsahu do předmětu VB000 sem už další text neuvádím.}

\section*{Bibliografie}
\printbibliography[heading=none]

\end{document}
